<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Coordinate System Transformations for Map Data • reproj</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Coordinate System Transformations for Map Data">
<meta property="og:description" content="Transform coordinates via 'PROJ' using the library directly, by 
 wrapping the 'proj4' package. The 'reproj' function handles the need for
 radian units for either source or target and allows removing an explicit 
 source definition in methods that extend the generic. The 'PROJ' library is available 
 at &lt;https://proj4.org/&gt;.  ">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">reproj</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.4.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li>
  <a href="news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/hypertidy/reproj">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    

    
    
<!-- README.md is generated from README.Rmd. Please edit that file -->
<p><a href="https://www.tidyverse.org/lifecycle/#maturing"><img src="https://img.shields.io/badge/lifecycle-maturing-blue.svg" alt="lifecycle"></a> <a href="https://travis-ci.org/hypertidy/reproj"><img src="https://travis-ci.org/hypertidy/reproj.svg?branch=master" alt="Travis build status"></a> <a href="https://travis-ci.org/hypertidy/reproj"><img src="http://badges.herokuapp.com/travis/hypertidy/reproj?branch=master&amp;env=BUILD_NAME=osx_release&amp;label=osx" alt="OSX Build Status"></a> <a href="https://ci.appveyor.com/project/mdsumner/reproj"><img src="https://ci.appveyor.com/api/projects/status/github/hypertidy/reproj?branch=master&amp;svg=true" alt="AppVeyor build status"></a><br><a href="https://cran.r-project.org/package=reproj"><img src="https://www.r-pkg.org/badges/version/reproj" alt="CRAN status"></a> <a href="https://cran.r-project.org/package=reproj"><img src="http://cranlogs.r-pkg.org/badges/reproj" alt="CRAN_Download_Badge"></a> <a href="https://codecov.io/github/hypertidy/reproj?branch=master"><img src="https://img.shields.io/codecov/c/github/hypertidy/reproj/master.svg" alt="Coverage Status"></a></p>
<div id="reproj" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#reproj" class="anchor"></a>reproj</h1></div>
<p>The goal of reproj is to reproject data between coordinate systems.</p>
<p>The <code>proj4</code> package is the only one available for generic data that will transform between arbitrary coordinate systems specified by <em>source</em> and <em>target</em> coordinate systems, and the only one with control over ‘xy’ versus ‘xyz’ input and output. reproj adds some further features by wrapping the need to convert longitude/latitude data to or from radians.</p>
<p>Other R packages for transforming coordinates are monolithic and do not expose the underlying facility outside of their specific goals and contexts. The packages that do this are <code>rgdal</code>, <code>sf</code> and <code>lwgeom</code>. The all require GDAL by some means, and include many other irrelevant libraries and restrictions including specific data formats that are inefficient.</p>
<p>Possible alternatives are <code>mapproj</code> and <code>globe</code> but these are variously too specific or difficult to use. If you know of others please let me know!</p>
<div id="warning" class="section level2">
<h2 class="hasAnchor">
<a href="#warning" class="anchor"></a>Warning</h2>
<p>There are a number of limitations to the <a href="https://CRAN.r-project.org/package=proj4">proj4</a> package that is used, please use reproj at your own risk. The <a href="https://CRAN.r-project.org/package=sf">sf</a> package provides a better supported facility to modern code and for datum transformations. (We have not even checked if proj4 can do datum transforms). If a more generic interface to the PROJ library becomes available we will configure reproj to use it.</p>
</div>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<p>You can install the dev version of reproj from <a href="https://github.com/hypertidy/reproj/">github</a> with:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1">remotes<span class="op">::</span><span class="kw"><a href="https://www.rdocumentation.org/packages/remotes/topics/install_github">install_github</a></span>(<span class="st">"hypertidy/reproj"</span>)</a></code></pre></div>
</div>
<div id="example" class="section level2">
<h2 class="hasAnchor">
<a href="#example" class="anchor"></a>Example</h2>
<p>This example shows how to convert between coordinate systems:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(reproj)</a>
<a class="sourceLine" id="cb2-2" data-line-number="2">(pt &lt;-<span class="st"> </span>(<span class="kw"><a href="reference/reproj.html">reproj</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/cbind">cbind</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="dv">147</span>, <span class="dv">148</span>), <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="op">-</span><span class="dv">42</span>, <span class="dv">-45</span>)), <span class="dt">target =</span> <span class="st">"+proj=laea +datum=WGS84"</span>, <span class="dt">source =</span> <span class="dv">4326</span>)))</a>
<a class="sourceLine" id="cb2-3" data-line-number="3"><span class="co">#&gt;         [,1]      [,2] [,3]</span></a>
<a class="sourceLine" id="cb2-4" data-line-number="4"><span class="co">#&gt; [1,] 5969744  -9803200    0</span></a>
<a class="sourceLine" id="cb2-5" data-line-number="5"><span class="co">#&gt; [2,] 5362760 -10052226    0</span></a>
<a class="sourceLine" id="cb2-6" data-line-number="6"></a>
<a class="sourceLine" id="cb2-7" data-line-number="7"><span class="co">## to another coordinate system</span></a>
<a class="sourceLine" id="cb2-8" data-line-number="8">(pt1 &lt;-<span class="st"> </span><span class="kw"><a href="reference/reproj.html">reproj</a></span>(pt, <span class="dt">target =</span> <span class="st">"+proj=lcc +lat_1=-20 +lat_2=-10 +datum=WGS84"</span>, <span class="dt">source =</span> <span class="st">"+proj=laea +datum=WGS84"</span>))</a>
<a class="sourceLine" id="cb2-9" data-line-number="9"><span class="co">#&gt;          [,1]     [,2] [,3]</span></a>
<a class="sourceLine" id="cb2-10" data-line-number="10"><span class="co">#&gt; [1,] 12701201 -9158714    0</span></a>
<a class="sourceLine" id="cb2-11" data-line-number="11"><span class="co">#&gt; [2,] 12538357 -9514556    0</span></a>
<a class="sourceLine" id="cb2-12" data-line-number="12"></a>
<a class="sourceLine" id="cb2-13" data-line-number="13"><span class="co">## and back again</span></a>
<a class="sourceLine" id="cb2-14" data-line-number="14"></a>
<a class="sourceLine" id="cb2-15" data-line-number="15"><span class="kw"><a href="reference/reproj.html">reproj</a></span>(pt1, <span class="dt">target =</span> <span class="st">"+proj=longlat +datum=WGS84"</span>, <span class="dt">source =</span> <span class="st">"+proj=lcc +lat_1=-20 +lat_2=-10 +datum=WGS84"</span>)</a>
<a class="sourceLine" id="cb2-16" data-line-number="16"><span class="co">#&gt;      [,1] [,2] [,3]</span></a>
<a class="sourceLine" id="cb2-17" data-line-number="17"><span class="co">#&gt; [1,]  147  -42    0</span></a>
<a class="sourceLine" id="cb2-18" data-line-number="18"><span class="co">#&gt; [2,]  148  -45    0</span></a></code></pre></div>
<p>Note that the output is always in ‘xyz’ form, even if the z value is implied zero. The input may also be ‘xyz’ and it is the user’s job to ensure this is specified correctly. It’s not possible to automate every case, because among the three main cases:</p>
<ul>
<li>longitude latitude and elevation,</li>
<li>projected xy and elevation,</li>
<li>geocentric xyz with embedded elevation (an offset to the radius <code>+a/+b</code> in PROJ terms),</li>
</ul>
<p>it is not possible to easily capture the intended task. reproj sits at the simplest level of flexibility and control, and doesn’t impose any restrictions of converting between these cases.</p>
</div>
<div id="contributions" class="section level2">
<h2 class="hasAnchor">
<a href="#contributions" class="anchor"></a>Contributions</h2>
<p>Are you interested in reproj or even contributing? Great! Please use the <a href="https://github.com/hypertidy/reproj/issues">issues</a> tab for discussions.</p>
<p>This is a wishlist / todo.</p>
<ul>
<li>wrap modern PROJ in an R package with no other dependencies</li>
<li>isolate the sf/lwgeom code for PROJ.4 in its own package</li>
<li>allow choice of engine for <code>reproj.method</code> (this is already possible for your own classes)</li>
</ul>
<p>Please note that the ‘reproj’ project is released with a <a href="https://hypertidy.github.io/reproj/CODE_OF_CONDUCT.html">Contributor Code of Conduct</a>. By contributing to this project, you agree to abide by its terms.</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Download from CRAN at <br><a href="https://cloud.r-project.org/package=reproj">https://​cloud.r-project.org/​package=reproj</a>
</li>
<li>Browse source code at <br><a href="https://github.com/hypertidy/reproj">https://​github.com/​hypertidy/​reproj</a>
</li>
<li>Report a bug at <br><a href="https://github.com/hypertidy/reproj/issues/">https://​github.com/​hypertidy/​reproj/​issues/​</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Michael D. Sumner <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0002-2471-7511" target="orcid.widget"><img src="https://members.orcid.org/sites/default/files/vector_iD_icon.svg" class="orcid" alt="ORCID" height="16"></a> </li>
</ul>
</div>

      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by Michael D. Sumner.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
</div>

  

  </body>
</html>
